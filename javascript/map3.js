let fieldData = [
    465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,353,353,353,353,353,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,169,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,169,-1,-1,-1,-1,-1,169,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,169,356,354,-1,133,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,185,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,169,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,166,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,185,-1,-1,-1,-1,-1,185,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,185,356,354,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,166,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,185,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,182,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,466,368,466,466,-1,-1,-1,-1,174,-1,174,-1,174,-1,174,-1,174,-1,174,-1,-1,-1,-1,-1,-1,-1,-1,353,-1,182,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,464,464,464,464,368,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,354,354,354,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,162,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,464,464,464,464,-1,-1,-1,-1,166,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,354,174,354,-1,-1,466,368,466,466,-1,-1,-1,-1,-1,174,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,174,-1,174,-1,174,-1,174,-1,174,-1,174,-1,174,-1,174,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,178,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,353,-1,182,-1,-1,-1,-1,-1,-1,174,-1,-1,-1,-1,466,368,466,466,-1,-1,-1,-1,-1,174,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,499,499,-1,-1,-1,-1,174,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,354,354,354,-1,-1,-1,-1,-1,-1,-1,-1,160,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,435,436,436,436,436,436,436,436,436,436,436,436,436,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,464,464,464,464,356,356,356,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,466,466,368,466,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,-1,-1,465,-1,-1,-1,465,-1,-1,-1,465,-1,-1,-1,-1,-1,-1,-1,368,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,176,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,188,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,-1,-1,-1,-1,355,-1,-1,-1,-1,-1,-1,-1,-1,356,356,356,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,33,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,353,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,393,-1,465,-1,-1,-1,465,-1,-1,-1,465,-1,465,465,465,-1,-1,-1,-1,-1,-1,-1,181,181,181,181,181,181,181,181,165,165,181,224,225,-1,-1,465,
-1,-1,-1,-1,-1,-1,-1,-1,133,102,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,465,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,-1,-1,-1,355,465,-1,-1,-1,-1,-1,-1,356,356,-1,-1,-1,-1,-1,-1,-1,465,465,-1,-1,-1,-1,33,102,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,353,353,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,164,-1,456,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,122,465,122,465,122,465,122,465,122,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,165,165,356,-1,-1,-1,240,241,-1,469,465,
465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,354,354,354,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,465,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,353,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,465,465,465,465,465,484,484,484,484,484,484,484,484,484,484,484,465,465,465,
465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,354,354,354,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,465,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,160,-1,-1,-1,-1,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,465,465,465,
465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,354,354,354,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,465,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,-1,102,-1,-1,164,176,-1,102,-1,-1,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,465,465,465,465,465,-1,-1,-1,465,465,465,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,-1,465,465,465,465,465,465,465,465,465,465,465,465,354,354,354,356,356,356,356,-1,-1,-1,-1,465,465,465,
465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,467,467,465,465,465,465,465,467,465,467,465,467,465,467,465,467,465,467,465,467,465,467,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,467,467,467,467,467,467,467,467,467,467,467,467,467,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,465,465,465,465,465,467,467,467,465,465,465,465,467,465,467,465,467,465,467,465,467,465,467,465,467,465,465,465,465,465,465,465,465,465,465,465,465,467,467,467,467,467,467,467,467,467,467,467,465,465,465,
  ];

    //368番からのブロックタイプ
    let blType = [
        1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,
        1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,
        1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1,
        0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1,
        0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1,
        1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        1, 1, 1, 0, 0, 0 ,0, 0, 0, 0, 0 ,0, 0, 0, 0, 0,
        ];

    class Field{
	constructor(){
        //スクロールを実装するための変数
		this.scx = 0;
		this.scy = 0;
	};
	
    //ブロックかどうか返す
    isBlock(x, y){
        //受け取った座標(ブロックの位置)をblに定義
        let bl = fieldData[(y>>4)*FIELD_SIZE_W+(x>>4)];
        //スプライトデータがブロックではないとき
        if((bl < 368 && bl > 188 && bl>=0&&bl<188) || bl==456){
            return 0;
        }

        return blType[bl-368] == 1?bl : 0;

    }
    isGoal(x, y) {
        let bl = fieldData[(y >> 4) * FIELD_SIZE_W + (x >> 4)];
        if (bl!=494&&bl!=478) {
            return false;
        }
        return true;
    }
    isEnd(x, y) {
        let bl = fieldData[(y >> 4) * FIELD_SIZE_W + (x >> 4)];
        if (bl!=491&&bl!=490) {
            return false;
        }
        return true;
    }
    isEnemy(x,y) {
        let bl = fieldData[(y >> 4) * FIELD_SIZE_W + (x >> 4)];
        // console.log(bl);
        // if(bl!=174 && bl!=102 && bl!=456){
        //     return false;
        // }

        return bl;
    }
    isMag(x,y){
        let bl = fieldData[(y >> 4) * FIELD_SIZE_W + (x >> 4)];
        // console.log(bl);
        if(bl!=467){
            return false;
        }
        // console.log("true");
        return true;
    }
	//更新処理
	update(){
        //キャラクターの位置に合わせてマップをスクロール
		if((ojisan.x>>4) > field.scx+128 && ojisan.sstop==0){//128:マップの中心の座標
			field.scx = (ojisan.x>>4)-128;//見えている画面の一番端の座標を定義
		};
	};
	
	//ブロック一つ描画　drawSpriteと同じ要領
	drawBlock(bl,px,py){
        // console.log("draw");
        
        //黄色いブロックのアニメーション
        const anim = [0, 1, 2, 1, 0];
        if(bl == 368){
            bl += anim[(frameCount>>3)%5];
        }
        // const animk = [0,0,1,1,0];
        // // クリボーアニメ
        // if(bl==102){
        //     // console.log("kuri"+px>>4+""+py>>4);
        //     fieldData[(px>>4)*FIELD_SIZE_W+(py>>4)]=367;
        //     enemy.push(new Enemy(bl,px>>4,sy>>4,0,0));
        // }
        // if(bl==456){
        //     // console.log("kira-"+px>>4+","+py>>4);
        //     fieldData[(px>>4)*FIELD_SIZE_W+(py>>4)]=367;
        //     kilar.push(new Kilar(179,px>>4,py>>4,0,0));
        // }
        // if(bl==174){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     buble.push(new Buble(bl,px>>4,py>>4,0,0));
        // }
        // //パタパタアニメ
        // if(bl==160){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animk[(frameCount>>3)%5];
        // }
        // if(bl==176){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animk[(frameCount>>3)%5];
        // }
        // const animj = [0,-64,-64,0,0];
        // //ジュゲムアニメ
        // if(bl==169){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animj[(frameCount>>3)%5];
        // }
        // if(bl==185){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animj[(frameCount>>3)%5];
        // }
        
        // //ブロスアニメ
        // const animh = [0,1,2,2,0];
        // if(bl==182){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animh[(frameCount>>3)%5];
        //     bulos.push[new Bulos(bl,px>>4,py>>4)];
        // }
        // if(bl==198){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animh[(frameCount>>3)%5];
        // }
        // //クッパアニメ
        // const animkp=[0,4,4,0,0];
        // if(bl==224){
        //     fieldData[(py>>4)*FIELD_SIZE_W+(px>>4)]=367;
        //     bl+=animkp[(frameCount>>3)%5];
        // }
		let sx = (bl&15)<<4;//スプライトデータの読み込み位置の設定(横列のキャラクター数が16だから一度16で割っている)
		let sy = (bl>>4)<<4;
		vcon.drawImage(chImg,sx,sy,16,16, px,py,16,16);//左:スプライトデータの表示位置　右:キャラクターの画面表示位置設定
	};

    //描画処理
	draw(){
		for(let y=0;y<MAP_SIZE_H+1;y++){
			for(let x=0;x<MAP_SIZE_W+1;x++){
				let sx= x+ (this.scx>>4);//スプライトデータの表示位置(ドット単位からブロック単位にするためビットシフトをしている)
				let sy= y+ (this.scy>>4);//スプライトデータの表示位置
				let bl=fieldData[sy*FIELD_SIZE_W+sx];
				let px = x*16 - (this.scx&15);//1px左に動かす
				let py = y*16 - (this.scy&15);//1px左に動かす
				if(bl>=0)this.drawBlock(bl,px,py);//0以上の時表示
			};
		};
	};
};